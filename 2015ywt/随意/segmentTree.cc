#include<iostream>
#include<cstdio>
#include<cstring>
#include<cstdlib>
using namespace std;
int sum[999999];
int flag[999999];
void pushDown(int x, int ll ,int rr)
{
    int mid = ll + rr >> 1;
    if (flag[x])
    {
        sum[x << 1] = (mid - ll + 1) * flag[x];
        sum[x << 1 | 1] = (rr - mid) * flag[x];
        flag[x << 1] = flag[x];
        flag[x << 1 | 1] = flag[x];
        flag[x] = 0;
    }

}
void update(int x, int ls ,int rs)
{
    sum[x] = sum[ls] + sum[rs];
}
void change(int x, int ll, int rr, int l, int r,int d)
{
    int ls = x << 1 , rs = ls | 1 , mid = ll + rr >> 1;
    if ( l == ll && r == rr)
    {
        sum[x] = d * ( rr - ll + 1);
        flag[x] = d;
        return;
    }
    pushDown(x , ll , rr);
    if ( r <                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          = mid ) change(ls , ll , mid , l , r , d );
    else if ( l > mid ) change( rs , mid + 1 , rr , l , r , d);
    else {
        change(ls , ll , mid , l , mid , d);
        change(rs , mid + 1 , rr,mid+1,r,d);
    }
    update(x , ls , rs);
}
int ask(int x , int ll ,int rr ,int l, int r)
{
    int ls = x << 1 , rs = rs | 1, mid = ll + rr >> 1;
    if (l == ll && rr == r)
    {
        return sum[x];
    }
    pushDown(x , ll , rr);
    if ( r <= mid ) ask(ls , ll , mid , l , r);
    else if ( l > mid ) ask( rs , mid + 1 , rr , l , r );
    else {
        return ( ask ( ls , ll , mid , l , mid ) + ask ( rs , mid + 1, rr , mid + 1 , r));
    }
    update(x , ls , rs);
}
int main()
{
    int n , m , limit = 1;
    int caseTest;
    scanf("%d",&caseTest);
    for (int _ = 1 ; _ <= caseTest; _ ++)
    {
        scanf("%d",&n);
        memset(sum , 0 , sizeof(sum));
        memset(flag , 0 , sizeof(flag));
        limit = 1;
        while ( limit <= n ) limit = limit << 1;
        //cout << limit << endl;
        for (int i = 1; i <= n ; i ++)
        {
            change(1 , 1 , limit , i , i , 1);
        }
        scanf("%d",&m);
        for (int i = 1; i <= m ; i ++)
        {
            int lc , rc , p;
            scanf("%d%d%d",&lc, &rc, &p);
            change(1 , 1 , limit , lc , rc , p);
        }
        printf("Case %d: The total value of the hook is %d.\n",_,ask(1 , 1 , limit , 1 , limit));
    }

}
